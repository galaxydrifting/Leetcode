# 567. Permutation in String

> é›£åº¦ï¼šMedium ğŸŸ¡

> é¡Œå‹ï¼šSliding Window & Hashing

## é¡Œç›®æè¿°
> çµ¦å®šå…©å€‹å­—ä¸² s1 å’Œ s2ï¼Œè«‹åˆ¤æ–· s2 æ˜¯å¦åŒ…å« s1 çš„ä»»ä¸€æ’åˆ—ï¼ˆpermutationï¼‰ä½œç‚ºå…¶å­å­—ä¸²ã€‚
> æ›å¥è©±èªªï¼Œè‹¥ s2 ä¸­å­˜åœ¨ä¸€å€‹å­å­—ä¸²ï¼Œå…¶å­—å…ƒçµ„åˆèˆ‡ s1 å®Œå…¨ç›¸åŒï¼ˆé †åºå¯ä¸åŒï¼‰ï¼Œå‰‡å›å‚³ Trueï¼Œå¦å‰‡å›å‚³ Falseã€‚

> Given two strings s1 and s2, return true if s2 contains a permutation of s1, or false otherwise.
> In other words, return true if one of s1's permutations is the substring of s2.

---

## ğŸ’¡ è§£é¡Œæ€è·¯
1. ä½¿ç”¨æ»‘å‹•è¦–çª—ï¼ˆSliding Windowï¼‰æŠ€å·§ï¼Œè¦–çª—å¤§å°ç‚º s1 é•·åº¦ã€‚
2. å»ºç«‹å…©å€‹å­—å…¸ï¼ˆæˆ–é™£åˆ—ï¼‰ï¼šåˆ†åˆ¥è¨˜éŒ„ s1 çš„å­—å…ƒè¨ˆæ•¸èˆ‡ç•¶å‰è¦–çª—çš„å­—å…ƒè¨ˆæ•¸ã€‚
3. æ¯æ¬¡ç§»å‹•è¦–çª—æ™‚ï¼Œæ›´æ–°è¦–çª—å­—å…ƒè¨ˆæ•¸ï¼Œä¸¦èˆ‡ s1 çš„å­—å…ƒè¨ˆæ•¸æ¯”è¼ƒã€‚
4. è‹¥å…©è€…ç›¸åŒï¼Œä»£è¡¨æ‰¾åˆ°ä¸€å€‹æ’åˆ—ï¼Œå›å‚³ Trueã€‚
5. è‹¥éæ­·å®Œ s2 éƒ½æ²’æ‰¾åˆ°ï¼Œå›å‚³ Falseã€‚

> âš ï¸ æ³¨æ„ï¼šs1 å’Œ s2 åªåŒ…å«å°å¯«è‹±æ–‡å­—æ¯ï¼Œä¸” s1 é•·åº¦ä¸æœƒå¤§æ–¼ s2ã€‚

---

## ğŸ“š ç¯„ä¾‹

| è¼¸å…¥                | è¼¸å‡º   |
|---------------------|--------|
| s1 = "ab", s2 = "eidbaooo" | True   |
| s1 = "ab", s2 = "eidboaoo" | False  |

---

## ğŸ” æ¼”ç®—æ³•èˆ‡è³‡æ–™çµæ§‹åˆ†æ

| é …ç›®         | èªªæ˜                                  |
|--------------|---------------------------------------|
| ä½¿ç”¨è³‡æ–™çµæ§‹ | å­—å…¸ï¼ˆdictï¼‰æˆ–é™£åˆ—ï¼ˆé•·åº¦ 26ï¼‰         |
| æ™‚é–“è¤‡é›œåº¦   | O(n)ï¼ˆn ç‚º s2 é•·åº¦ï¼‰                  |
| ç©ºé–“è¤‡é›œåº¦   | O(1)ï¼ˆåƒ… 26 å€‹å­—æ¯çš„è¨ˆæ•¸ï¼‰            |
| å„ªé»         | é«˜æ•ˆã€åƒ…éœ€ä¸€æ¬¡éæ­· s2                 |
| ç¼ºé»         | éœ€é¡å¤–ç©ºé–“å„²å­˜å­—å…ƒè¨ˆæ•¸                |

---

## âš¡ ç¨‹å¼ç¢¼å¯¦ä½œï¼ˆPythonï¼‰

```python
# åˆ¤æ–· s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—
from collections import Counter  # åŒ¯å…¥ Counter ç”¨æ–¼å­—å…ƒè¨ˆæ•¸

def checkInclusion(s1: str, s2: str) -> bool:
    s1_len = len(s1)  # å–å¾— s1 é•·åº¦
    s2_len = len(s2)  # å–å¾— s2 é•·åº¦
    if s1_len > s2_len:
        return False  # è‹¥ s1 è¼ƒé•·ï¼Œç›´æ¥å›å‚³ False

    s1_count = Counter(s1)  # è¨ˆç®— s1 å„å­—å…ƒå‡ºç¾æ¬¡æ•¸
    window = Counter(s2[:s1_len])  # åˆå§‹åŒ–è¦–çª—ï¼Œè¨ˆç®—å‰ s1_len å€‹å­—å…ƒ

    # Counter ç‰©ä»¶æ”¯æ´ == æ¯”è¼ƒï¼Œæœƒæ¯”å°æ¯å€‹ key-value æ˜¯å¦å®Œå…¨ç›¸åŒ
    # å³ä½¿ window æœ‰ value ç‚º 0 çš„ keyï¼ŒCounter æœƒè‡ªå‹•å¿½ç•¥ï¼Œä¸å½±éŸ¿æ¯”è¼ƒæ­£ç¢ºæ€§
    if window == s1_count:
        return True  # è‹¥åˆå§‹è¦–çª—å³ç¬¦åˆï¼Œå›å‚³ True

    for i in range(s1_len, s2_len):  # å¾ s1_len é–‹å§‹æ»‘å‹•è¦–çª—
        window[s2[i]] += 1  # æ–°å¢å³å´å­—å…ƒï¼ˆè¦–çª—å³ç§»ï¼ŒåŠ å…¥æ–°å­—å…ƒï¼‰
        window[s2[i - s1_len]] -= 1  # ç§»é™¤å·¦å´å­—å…ƒï¼ˆè¦–çª—å·¦ç«¯å­—å…ƒè¨ˆæ•¸æ¸› 1ï¼‰
        # è‹¥æŸå­—å…ƒè¨ˆæ•¸ç‚º 0ï¼Œå»ºè­°ç”¨ del ç§»é™¤ï¼Œè®“ Counter æ›´ç²¾ç°¡ã€æ¯”è¼ƒæ›´å¿«
        # ä½†ä¸ç§»é™¤ä¹Ÿä¸å½±éŸ¿æ­£ç¢ºæ€§ï¼Œå› ç‚º Counter æ¯”è¼ƒæ™‚æœƒè‡ªå‹•å¿½ç•¥ value ç‚º 0 çš„ key
        if window[s2[i - s1_len]] == 0:
            del window[s2[i - s1_len]]  # è‹¥è¨ˆæ•¸ç‚º 0ï¼Œç§»é™¤è©²å­—å…ƒ
        if window == s1_count:
            return True  # è‹¥è¦–çª—è¨ˆæ•¸ç¬¦åˆï¼Œå›å‚³ True
    return False  # éæ­·å®Œéƒ½æ²’æ‰¾åˆ°ï¼Œå›å‚³ False

if __name__ == "__main__":
    # ç¯„ä¾‹æ¸¬è©¦
    print(checkInclusion("ab", "eidbaooo"))  # True
    print(checkInclusion("ab", "eidboaoo"))  # False

# è£œå……èªªæ˜ï¼š
# - Counter æ˜¯ dict çš„å­é¡åˆ¥ï¼Œå¯ä»¥ç”¨ç´¢å¼•æ–¹å¼è³¦å€¼èˆ‡å–å€¼ã€‚
# - Counter æ²’æœ‰ hashï¼Œä¸èƒ½ç•¶ set å…ƒç´ æˆ– dict keyï¼Œä½†æ”¯æ´å…§å®¹æ¯”è¼ƒï¼ˆ==ï¼‰ã€‚
# - ç”¨ del ç§»é™¤ value ç‚º 0 çš„ key ä¸»è¦æ˜¯è®“ Counter æ›´ç²¾ç°¡ï¼Œæå‡æ•ˆèƒ½ï¼Œéæ­£ç¢ºæ€§æ‰€å¿…é ˆã€‚
```
