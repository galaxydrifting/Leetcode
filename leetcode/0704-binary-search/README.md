# 704. Binary Search

> é›£åº¦ï¼šEasy ğŸŸ¢

> é¡Œå‹ï¼šArray & Binary Search

## é¡Œç›®æè¿°
> çµ¦å®šä¸€å€‹å·²æ’åºï¼ˆéå¢ï¼‰çš„æ•´æ•¸é™£åˆ— numsï¼Œä»¥åŠä¸€å€‹æ•´æ•¸ targetï¼Œè«‹å¯¦ä½œä¸€å€‹å‡½å¼æœå°‹ target æ˜¯å¦å­˜åœ¨æ–¼ nums ä¸­ã€‚
> è‹¥å­˜åœ¨ï¼Œå›å‚³å…¶ç´¢å¼•ï¼›å¦å‰‡å›å‚³ -1ã€‚

> Given an array of integers nums which is sorted in ascending order, and an integer target, write a function to search target in nums. If target exists, then return its index. Otherwise, return -1.

---

## ğŸ’¡ è§£é¡Œæ€è·¯
1. ä½¿ç”¨äºŒåˆ†æœå°‹æ³•ï¼ˆBinary Searchï¼‰ï¼Œæ¯æ¬¡å°‡æœå°‹ç¯„åœå°åŠç¸®å°ã€‚
2. è¨­å®šå·¦å³æŒ‡æ¨™ leftã€rightï¼Œåˆå§‹åˆ†åˆ¥ç‚º 0 èˆ‡é™£åˆ—é•·åº¦æ¸›ä¸€ã€‚
3. é€²è¡Œè¿´åœˆï¼Œç•¶ left <= right æ™‚ï¼š
   - å–ä¸­é–“ç´¢å¼• mid = (left + right) // 2ã€‚
   - è‹¥ nums[mid] == targetï¼Œå›å‚³ midã€‚
   - è‹¥ nums[mid] < targetï¼Œå°‡ left è¨­ç‚º mid + 1ã€‚
   - è‹¥ nums[mid] > targetï¼Œå°‡ right è¨­ç‚º mid - 1ã€‚
4. è‹¥è¿´åœˆçµæŸä»æœªæ‰¾åˆ°ï¼Œå›å‚³ -1ã€‚

> âš ï¸ æ³¨æ„ï¼šå¿…é ˆä¿è­‰æ™‚é–“è¤‡é›œåº¦ç‚º O(log n)ã€‚

---

## ğŸ“š ç¯„ä¾‹

| è¼¸å…¥                | è¼¸å‡º |
|---------------------|------|
| nums = [-1,0,3,5,9,12], target = 9  | 4    |
| nums = [-1,0,3,5,9,12], target = 2  | -1   |

---

## ğŸ” æ¼”ç®—æ³•èˆ‡è³‡æ–™çµæ§‹åˆ†æ

| é …ç›®         | èªªæ˜                |
|--------------|---------------------|
| ä½¿ç”¨è³‡æ–™çµæ§‹ | é™£åˆ—                |
| æ™‚é–“è¤‡é›œåº¦   | O(log n)            |
| ç©ºé–“è¤‡é›œåº¦   | O(1)                |
| å„ªé»         | æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œæ•ˆç‡é«˜  |
| ç¼ºé»         | åƒ…é©ç”¨æ–¼å·²æ’åºé™£åˆ—  |

---

## âš¡ ç¨‹å¼ç¢¼å¯¦ä½œï¼ˆPythonï¼‰

```python
# äºŒåˆ†æœå°‹æ³•å¯¦ä½œ
# nums: å·²æ’åºçš„æ•´æ•¸é™£åˆ—
# target: è¦æœå°‹çš„ç›®æ¨™å€¼
# å›å‚³ target çš„ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡å›å‚³ -1

def search(nums, target):
    left = 0  # å·¦æŒ‡æ¨™ï¼Œèµ·å§‹ç‚º 0
    right = len(nums) - 1  # å³æŒ‡æ¨™ï¼Œèµ·å§‹ç‚ºé™£åˆ—æœ€å¾Œä¸€å€‹ç´¢å¼•
    while left <= right:  # ç•¶å·¦æŒ‡æ¨™ä¸è¶…éå³æŒ‡æ¨™æ™‚æŒçºŒæœå°‹
        mid = (left + right) // 2  # å–ä¸­é–“ç´¢å¼•
        if nums[mid] == target:  # è‹¥ä¸­é–“å€¼ç­‰æ–¼ç›®æ¨™å€¼
            return mid  # å›å‚³ç´¢å¼•
        elif nums[mid] < target:  # è‹¥ä¸­é–“å€¼å°æ–¼ç›®æ¨™å€¼
            left = mid + 1  # ç§»å‹•å·¦æŒ‡æ¨™åˆ° mid å³é‚Š
        else:  # è‹¥ä¸­é–“å€¼å¤§æ–¼ç›®æ¨™å€¼
            right = mid - 1  # ç§»å‹•å³æŒ‡æ¨™åˆ° mid å·¦é‚Š
    return -1  # è‹¥æœªæ‰¾åˆ°ç›®æ¨™å€¼ï¼Œå›å‚³ -1
```

## âš ï¸ Java å¯¦ä½œæ™‚çš„ Overflow æ³¨æ„äº‹é …

åœ¨ Java ä¸­ï¼Œè‹¥ç›´æ¥ä½¿ç”¨ `mid = (left + right) / 2`ï¼Œç•¶ `left` å’Œ `right` éƒ½å¾ˆå¤§æ™‚ï¼Œ`left + right` å¯èƒ½æœƒè¶…é int çš„æœ€å¤§å€¼ï¼Œå°è‡´ overflowã€‚

**æ­£ç¢ºå¯«æ³•ï¼š**
```java
int mid = left + (right - left) / 2;
```
é€™æ¨£å¯ä»¥é¿å… overflowï¼Œå› ç‚º `right - left` ä¸æœƒè¶…é int ç¯„åœã€‚

**éŒ¯èª¤å¯«æ³•ï¼ˆå¯èƒ½ overflowï¼‰ï¼š**
```java
int mid = (left + right) / 2;
```

---

### C# ä¹Ÿæœ‰ Overflow çš„å¯èƒ½å—ï¼Ÿ

æ˜¯çš„ï¼ŒC# çš„ `int` ä¹Ÿæ˜¯ 32 ä½å…ƒï¼Œè‹¥ç›´æ¥å¯« `int mid = (left + right) / 2;`ï¼Œç•¶ `left` å’Œ `right` éƒ½å¾ˆå¤§æ™‚ï¼Œ`left + right` ä¹Ÿå¯èƒ½æº¢ä½ã€‚

**æ­£ç¢ºå¯«æ³•ï¼š**
```csharp
int mid = left + (right - left) / 2;
```
é€™æ¨£åŒæ¨£å¯ä»¥é¿å… overflowã€‚

---

### ç‚ºä»€éº¼ `l + (r - l) / 2` å¹¾ä¹ç­‰åƒ¹æ–¼ `(l + r) // 2`ï¼Ÿ

å…©è€…æ•¸å­¸ä¸Šç­‰åƒ¹ï¼Œå› ç‚ºï¼š
- `l + (r - l) / 2 = (2l + r - l) / 2 = (l + r) / 2`

**èˆ‰ä¾‹ï¼š**
å‡è¨­ `l = 10`ï¼Œ`r = 20`ï¼š
- `(l + r) // 2 = (10 + 20) // 2 = 30 // 2 = 15`
- `l + (r - l) // 2 = 10 + (20 - 10) // 2 = 10 + 10 // 2 = 10 + 5 = 15`

æ‰€ä»¥å…©è€…çµæœç›¸åŒã€‚ä½†ç•¶ `l` å’Œ `r` å¾ˆå¤§æ™‚ï¼Œ`l + r` å¯èƒ½æº¢ä½ï¼Œ`l + (r - l) / 2` å‰‡ä¸æœƒã€‚

---
